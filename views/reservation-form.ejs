<title>Request a Reservation | <%= restaurant.name %> | BookEasy.online</title>

<div class="reservation-form-wrapper">
  <h2>Request a Reservation</h2>

  <form action="/reservation/submit-reservation" method="POST" class="reservation-form">
    <!-- Hidden Restaurant Field -->
    <input type="hidden" name="restaurant" value="<%= restaurant.name %>" />

    <!-- === 1. Reservation Details First === -->
    <section class="reservation-information">
      <h3>Reservation details</h3>
      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" name="date" required />
      </div>

      <div class="form-group">
        <label for="time">Time</label>
        <select id="time" name="time" required>
          <% for(let i = 0; i < 24; i++) { %>
          <option value="<%= i %>:00"><%= i %>:00</option>
          <option value="<%= i %>:30"><%= i %>:30</option>
          <% } %>
        </select>
      </div>

      <div class="form-group-inline">
        <div>
          <label for="adults">Adults</label>
          <input type="number" id="adults" name="adults" min="1" value="1" required />
        </div>
        <div>
          <label for="children">Children</label>
          <input type="number" id="children" name="children" min="0" value="0" />
        </div>
      </div>

      <div class="form-group">
        <label for="childrenAges">Children Ages (0-11)</label>
        <input type="text" id="childrenAges" name="childrenAges" placeholder="e.g., 3, 5, 8" />
      </div>

      <div class="form-group">
        <label for="specialRequest">Special Requests</label>
        <textarea
          id="specialRequest"
          name="specialRequest"
          placeholder="Allergies, celebrations, etc."
        ></textarea>
      </div>
    </section>

    <!-- === 2. Customer Info === -->
    <section class="customer-information">
      <h3>Customer information</h3>
      <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" name="firstName" required />
      </div>

      <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" name="lastName" required />
      </div>

      <div class="form-group">
        <label for="country">Country</label>
        <select id="country" name="country" required>
          <option value="">Select Country</option>
          <option value="Japan">Japan</option>
          <option value="United States">United States</option>
          <option value="United Kingdom">United Kingdom</option>
          <option value="Australia">Australia</option>
          <option value="Canada">Canada</option>
          <option value="Germany">Germany</option>
          <option value="France">France</option>
          <option value="Singapore">Singapore</option>
          <option value="UAE">United Arab Emirates</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required />
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" id="phone" name="phone" required />
      </div>
    </section>

    <!-- === 3. Policy Notice & Submit === -->
    <div class="policy-notice">
      <h3>Reservation & Cancellation Policy</h3>
      <p>
        A service charge of <strong>Â¥1,380 per person</strong> applies, covering seat reservation
        and multilingual live chat support. This amount will only be charged once your reservation
        is confirmed.
      </p>
      <p>
        <strong>Please note:</strong> After confirmation, the service charge is strictly
        <strong>non-refundable</strong>.
      </p>

      <div class="terms-check">
        <span>
          I acknowledge that I have read, understood, and agree to the platform's terms and
          conditions.
        </span>
        <input type="checkbox" id="acceptRules" />
      </div>
    </div>

    <button type="submit" class="submit-btn" disabled>Submit</button>

    <!-- Enable Submit Logic -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const checkbox = document.getElementById('acceptRules');
        const submitBtn = document.querySelector('.submit-btn');

        checkbox.addEventListener('change', function () {
          submitBtn.disabled = !this.checked;
        });
      });
    </script>
  </form>
</div>
